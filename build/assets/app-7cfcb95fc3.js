!function(){"use strict";angular.module("app.core",["ui.router","angular-loading-bar","ui.bootstrap","uiGmapgoogle-maps"])}(),function(){"use strict";angular.module("app.core").constant("appConfig",{APP_NAME:"ISS Dashboard",DEFAULT_PAGE:"home",GOOGLE_MAPS_API_KEY:"AIzaSyCSVvXgVygif_XfWo7UJhjDaWMxAg76n5A",SATELLITE_API:"https://api.wheretheiss.at/v1/satellites/",PEOPLE_IN_SPACE_API:"http://api.open-notify.org/astros.json"})}(),function(){"use strict";function e(e,t,n){function o(){e.otherwise(n.DEFAULT_PAGE)}function r(){t.configure({key:n.GOOGLE_MAPS_API_KEY,v:"3.20",libraries:"weather,geometry,visualization"})}o(),r()}e.$inject=["$urlRouterProvider","uiGmapGoogleMapApiProvider","appConfig"],angular.module("app.core").config(e)}(),function(){"use strict";function e(e,t){function n(){e.document.title=t.APP_NAME}n()}e.$inject=["$window","appConfig"],angular.module("app.core").run(e)}(),function(){"use strict";function e(e,t,n,o){function r(n){var r=t.defer();return n||r.reject("No ID supplied to satellite service!"),e({url:o.SATELLITE_API+n,cache:!1}).then(function(e){r.resolve(e)},function(e){r.reject("No valid API call to: "+e.config.url)}),r.promise}function a(){var n=t.defer();return e({url:o.PEOPLE_IN_SPACE_API,cache:!0}).then(function(e){n.resolve(e)},function(e){n.reject("No valid API call to: "+e.config.url)}),n.promise}var i={getSatellite:r,getPeopleInSpace:a};return i}e.$inject=["$http","$q","$log","appConfig"],angular.module("app.core").factory("dataService",e)}(),function(){"use strict";angular.module("app.home",["ui.router"])}(),function(){"use strict";function e(e){function t(){e.state("home",{url:"/home",templateUrl:"modules/home/home.html",controller:"home as vm"})}t()}e.$inject=["$stateProvider"],angular.module("app.home").config(e)}(),function(){"use strict";function e(e,t,n,o,r,a){function i(){r.then(function(t){e.debug("Map API ready"),u(25544).then(function(e){l(e),s(e)}),o(function(){u(25544).then(function(e){l(e),s(e)})},2e3),g.map={center:{latitude:0,longitude:0},zoom:5,options:{draggable:!1,mapTypeControl:!1,streetViewControl:!1,MapTypeId:google.maps.MapTypeId.HYBRID,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP}}},g.marker={markerId:"uidIISKey",center:{latitude:0,longitude:0},options:{icon:"images/map-marker-128.png",draggable:!1,opacity:.8}}})}function l(e){g.map&&(g.map.center=e)}function s(e){g.marker&&(g.marker.center=e)}function u(e){return c(e).then(function(e){return{latitude:e.latitude,longitude:e.longitude}})}function c(n){e.debug("Getting satellite data for id:",n);var o=t.defer();return a.getSatellite(n).then(function(e){var t=e.data;g.satellite=t,o.resolve(t)},function(e){o.reject(e)}),o.promise}function p(){e.debug("Getting list of people in space.");var n=t.defer();return a.getPeopleInSpace().then(function(e){e.data.people=e.data.people.filter(function(e){return"ISS"===e.craft}),n.resolve(e.data.people)},function(e){n.reject(e)}),n.promise}function m(){n.open({animation:!0,templateUrl:"/modules/modals/issPassengers.html",controller:"issPassengersModalController",controllerAs:"vm",windowTopClass:"docked",size:"sm",resolve:{passengers:function(){return p()},iss:function(){return d}}})}var d,g=this;g.showDetails=m,i()}e.$inject=["$log","$q","$uibModal","$interval","uiGmapGoogleMapApi","dataService"],angular.module("app.home").controller("home",e)}(),function(){"use strict";function e(e,t){function n(){e.close()}var o=this;o.passengers=t,o.close=n}e.$inject=["$uibModalInstance","passengers"],angular.module("app.core").controller("issPassengersModalController",e)}(),angular.module("app.core").run(["$templateCache",function(e){e.put("modules/home/home.html",'<div id="home" class="row">\r\n\r\n  <ui-gmap-google-map ng-if="vm.map" center="vm.map.center" zoom="vm.map.zoom" options="vm.map.options">\r\n\r\n    <ui-gmap-marker idkey="vm.marker.markerId" coords="vm.marker.center" click="vm.showDetails()" options="vm.marker.options">\r\n    </ui-gmap-marker>\r\n  </ui-gmap-google-map>\r\n\r\n  <section class="dashboard">\r\n\r\n    <p>{{vm.satellite.name | uppercase }} is currently flying at {{vm.satellite.velocity | number : 2}} {{vm.satellite.units}} per hour over the indicated location at an altitude of {{vm.satellite.altitude | number : 2}} {{vm.satellite.units}}.</p>\r\n\r\n  </section>\r\n\r\n</div>'),e.put("modules/modals/issPassengers.html",'<div class="modal-header">\r\n<h3 class="modal-title" id="modal-title">Aboard the ISS:</h3>\r\n</div>\r\n<div class="modal-body" id="modal-body">\r\n\r\n<div class="table-responsive">\r\n  <table class="table table-striped" ng-if="vm.passengers">\r\n   <tr>\r\n    <th>Name</th>\r\n   </tr>\r\n\r\n   <tr data-ng-repeat="passenger in vm.passengers track by $index">\r\n    <td>{{passenger.name}}</td>\r\n   </tr>\r\n\r\n  </table>\r\n</div>\r\n\r\n</div>\r\n<div class="modal-footer">\r\n<button class="btn btn-primary" type="button" ng-click="vm.close()">Close</button>\r\n</div>\r\n')}]),function(){"use strict";angular.module("app",["app.core","app.home"])}();